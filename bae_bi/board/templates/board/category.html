{% extends "./base.html" %} {% load static %}{% block main %}
<script>
  function dragstart_handler(ev) {
    console.log("dragStart");
    //ev.currentTarget.style.border = "dashed";
    ev.dataTransfer.setData("text", ev.target.id);
    ev.effectAllowed = "copyMove";
  }
  function dragover_handler(ev) {
    console.log("dragOver");
    //ev.currentTarget.style.background = "lightblue";
    ev.preventDefault();
  }
  function drop_handler(ev) {
    console.log("Drop");
    ev.preventDefault();
    var id = ev.dataTransfer.getData("text");
    if (ev.target.id == "dest_copy") {
      var nodeCopy = document.getElementById(id).cloneNode(true);
      nodeCopy.style.height = "70px";
      nodeCopy.id = "newId";
      ev.target.appendChild(nodeCopy);
    }
  }
  function dragend_handler(ev) {
    console.log("dragEnd");
    //ev.target.style.border = "solid black";
  }
</script>
<div style="display: flex;">
  <div style="width: 80%;">
    <ol class="list-group" style="row-gap: 3px; margin: 3px;">
      {% for store in cat_list.store_list %}
      <li
        style="height: 100pt;"
        class="list-group-item"
        draggable="true"
        id="{{store.name}}"
        ondragstart="dragstart_handler(event);"
        ondragend="dragend_handler(event);"
      >
        <p><strong>{{store.name}}</strong> | {{store.company}}</p>
        <p>{{store.coupon}}</p>
      </li>
      {% endfor %}
    </ol>
  </div>
  <div style="width: 20%; margin-right: 10px;" class="card">
    <strong
      class="card-body"
      id="dest_copy"
      ondrop="drop_handler(event);"
      ondragover="dragover_handler(event);"
      >cart</strong
    >
    <center>
      <button class="btn btn-outline-success active" style="width: 70%; margin-bottom: 1pt; background-color: #005555;  justify-content: center; ">
        비교
      </button>
    </center>
    <!-- 버튼타입 type="submit" -->
  </div>
</div>
{% endblock main %}
