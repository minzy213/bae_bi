{% extends "./base.html" %} {% load static %}{% block main %}
<script>
  function dragstart_handler(ev) {
    console.log("dragStart");
    //ev.currentTarget.style.border = "dashed";
    ev.dataTransfer.setData("text", ev.target.id);
    ev.effectAllowed = "copyMove";
  }
  function dragover_handler(ev) {
    console.log("dragOver");
    //ev.currentTarget.style.background = "lightblue";
    ev.preventDefault();
  }
  var test = [];
  function drop_handler(ev) {
    console.log("Drop");
    ev.preventDefault();
    var id = ev.dataTransfer.getData("text");
    if (!test.includes(id) && ev.target.id == "dest_copy") {
      var nodeCopy = document.getElementById(id).cloneNode(true);
      nodeCopy.style.height = "70px";
      ev.target.appendChild(nodeCopy);
      console.log(test);
      console.log(id);
      test.push(id);
    }
  }
  function dragend_handler(ev) {
    console.log("dragEnd");
    //ev.target.style.border = "solid black";
  }
</script>
<div style="display: flex">
  {% comment %} 여기에 디테일 정보 temp.html {% endcomment %}
  <div style="position: relative; z-index: 1; width: 80%">
    <ol class="list-group" style="row-gap: 3px; margin: 3px">
      {% for store in cat_list.store_list %}
      <li style="height: 100pt" class="list-group-item">
        <p><strong>{{store.name}}</strong> | {{store.company}}</p>
        <p>{{store.coupon}}</p>
      </li>
      {% endfor %}
    </ol>
  </div>
  <div
    style="
      position: relative;
      z-index: 3;
      width: 20%;
      margin-right: 10px;
      position: fixed;
      margin-left: 80%;
      height: 600px;
    "
    class="card"
  >
    <strong
      class="card-body"
      id="dest_copy"
      ondrop="drop_handler(event);"
      ondragover="dragover_handler(event);"
      >cart</strong
    >
    <center>
      <button
        class="btn btn-outline-success active"
        style="
          width: 70%;
          margin-bottom: 1pt;
          background-color: #005555;
          justify-content: center;
        "
      >
        비교
      </button>
    </center>
    <!-- 버튼타입 type="submit" -->
  </div>
</div>
{% endblock main %}
